<div class="container">

  <div class="row">
  <!--    Host Avatar and minor details -->
    <div class="col-md-4 col-sm-5 col-xs-12" id="avatar_align">
      <!-- <%= content_tag :h3, "Host Account",
       class:'title' if @host == current_host %> -->
      </br>
      <% if @host.images.present? %>
        <%= image_tag @host.images.first.image_file.url(:medium), class: "img-circle", style: "margin-top: 10px" %></br>
      <% else %>
        <%= image_tag "box.jpeg" %>
      <% end %>
      <%= content_tag :h3, @host.username, class:"title" %>

      <% if @host == current_host %>
      <div class="row" id="host_controls">
      	<%= link_to "Create Experience", new_experience_path, class: "btn btn-success btn-sm" if @host.approved? %>
  			<%= link_to "Edit Profile", edit_host_path, :class => "btn btn-warning btn-sm" %>
  			<%= link_to "Account Settings" , edit_host_registration_path,
          class:"btn btn-danger btn-sm" %>
        <button class="btn btn-primary btn-sm" id='btn-cal'>Show Calendar</button>
      </div>
    	<% end %>
    </div>

    <!-- End of host avatar and minor details -->

    <!-- Curious map code -->
    <div id="mapLat" style="display: none;">
      <% if @host.latitude -%><%= @host.latitude -%><% else -%>-82.8<% end -%>
    </div>

    <div id="mapLng" style="display: none;">
      <% if @host.longitude %><%= @host.longitude %><% else %>-135<% end %>
    </div>
    <!-- End curious map code -->

    <!-- Host major details -->
    <div class="col-md-7 col-md-offset-1 col-sm-6 col-sm-offset-1 col-xs-offset-1 col-xs-10" id="card_container">
      <br>
      <!-- <p><%= @host.title %> <%= @host.first_name%> <%=@host.last_name %></p> -->
      <!-- <div class="col-md-4"> -->
        <p><strong>Age:</strong> <%= @host.age %> years old</p>
        <p><strong>Location:</strong>
           <%= @host.suburb %>, <%= @host.state %>, <%= @host.country %></p>

        <p><strong>Occupation:</strong> <%= @host.occupation %></p>
        <p><strong>Interests:</strong> <%= @host.interests %></p>

        <p><%= @host.smoker? %></p>
        <p><strong>Pets:</strong> <%= @host.pets %></p>
        <p><strong>Speaks:</strong> <%= @host.languages %></p>
        <p><strong>Neighbourhood:</strong> <%= @host.neighbourhood %></p>
      <!-- </div> -->

      <!-- <div class="col-md-8 visible-md-block visible-lg-block">

      </div> -->

      <!-- <div class="col-md-12"> -->
        <p>
          <strong>Introduction:</strong><br>
          <%= @host.intro %>
        </p>

        <p>
          <strong>Additional Info:</strong><br>
          <%= @host.additional_info %>
        </p>
      <!-- </div> -->

    </div>
    <!-- End host major details -->
  </div>
  <!-- End of row -->

  <!-- Start of Map; maybe have this as the host page exp. footer instead, no side-padding -->
  <!-- <div class="row" id="map">
    <div class="col-md-12" id="map-canvas" min-height="500px"></div>
  </div> -->
  <!-- End of Map -->
  <% if @host == current_host %>
  <div class="row">
    <%= render 'calendar' %>
  </div>
  <% end %>

  <!-- Events title-->
  <div class="row" id="host_specials">
    <%= content_tag :h3, "#{@host.username}'s Special Events", class:"text-center title" %>
  <!-- End of events title -->
    <%= content_tag :h5, "<No Special Events for now>", class:"text-center" if @special_events.available.empty? %>
  <!-- Hosts experiences listing -->
    <% @special_events.in_groups_of(3, false).each do |group| %>
      <div class="row">
        <% group.each do |experience| %>
          <% next if !experience.available? && @host != current_host %>
        <div class="col-md-4 col-sm-6 col-xs-10 col-xs-offset-1">
          <%= render experience %>
        </div>
        <% end %>
      </div>
    <% end %>
  </div>

  <hr>

<!-- Events title-->
  <div class="row" id="host_events">
    <%= content_tag :h3, "#{@host.username}'s Events", class:"text-center title" %>
<!-- End of events title -->
  <%= content_tag :h5, "<No Events for now>", class:"text-center" if @normal_events.empty? %>
<!-- Hosts experiences listing -->
    <% @normal_events.in_groups_of(3, false).each do |group| %>
      <div class="row">
        <% group.each do |experience| %>
        <div class="col-md-4 col-sm-6 col-xs-12 col-xs-offset-1">
          <%= render experience %>
        </div>
        <% end %>
      </div>
    <% end %>
  </div>

</div>

<script>
$(function(){
  $('#holiday_calendar').hide()

  $("#btn-cal").on('click', this, function(e){
    cal = $('#holiday_calendar')
    if (cal.is(':visible') === true){
      $('#notify').html('&nbsp;').removeClass('label label-success')
      cal.hide()
      $('#btn-cal').text('Show Calendar')
    }else{
      cal.show()
      $('#btn-cal').text('Hide Calendar')
    }
  });
});
</script>
